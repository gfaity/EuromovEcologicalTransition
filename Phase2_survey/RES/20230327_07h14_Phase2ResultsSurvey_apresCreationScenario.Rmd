---
title: "Euromov DHM Ecological transition survey (phase 2)"
author: "Germain Faity"
date: "26/03/2023"
output:
  html_document:
    code_folding: hide
---


# Initialisation
Click on "Code" to unfold the code of this step.
```{r, results='hide', message=FALSE, fig.show='hide', warning = FALSE}
#Execute initialisation of this programm
#   Clear variable
#   Set directories
#   Load functions

#Which packages need to be installed/loaded ?
RequiredPackages = c('rlang'
                     ,'plyr'
                     ,'dplyr'
                     ,'tidyr'
                     ,'tidyselect'
                     ,'tidyverse'
                     ,'ggplot2'
                     ,'stringr'
                     ,'BlandAltmanLeh'
                     ,'irr'
                     ,'gapminder'
                     ,'hrbrthemes'
                     ,'ggpubr'
                     ,'rstatix'
                     ,'gmodels'
                     ,'equivUMP'
                     ,'viridis'
                     ,'equivalence'
                     ,'TOSTER'
                     ,'data.table'
                     ,'signs'
                     ,'scales'
                     ,'kableExtra'
)

#This function aims to set some initialisation
#load some usefull packages
#clear variables
#set directories of interest
#source local functions of interest
########################################################################
# if install.load package is not installed locally, download,install and launch
if (!"install.load"%in%installed.packages()) {
  install.packages("install.load", repos = "https://cloud.r-project.org")
}

#launch some usefull packages
library(install.load)
install_load(RequiredPackages)

########################################################################
#Initialisation
# rm(list=ls())                   #remove all objects
# cat(rep("\n", 100))             #clean the console by printing white lines in console
# closeAllConnections()           #clear connections
# while (dev.cur()>1) dev.off()   #clear plots
#while (rgl.cur()) rgl.close()  #clear rgl (no need here)
# cat("\n\n########################## BEG OF PRG ##########################\n\n")

#graphics
theme_set(theme_classic())

####################################

#Options
scenariosConsideres = paste(100*seq(0,1,0.1),"% ambitieux", sep="") #les différents niveaux d'adhesions considéré pour la création des scénarios (vector des possibilités, entre 0 et 1)

#creation DF scenarios avec score d'adhésion et scenarios considérés
DFadhesionMesures = setNames(data.frame(matrix(ncol = length(scenariosConsideres)+3, nrow = 0)), c("MesureCode", "CategorieFR", "MesureFR", scenariosConsideres))
```


# 1. Get data
Click on "Code" to unfold the code of this step.
```{r, results='hide', message=FALSE, warning = FALSE}
# OPENING A FILE 

#Get all data and concatenate this into one big dataframe
DAT_PATH = "C:/Users/germa/OneDrive/Bureau/EuromovEcologicalTransition/Phase2_survey/DAT"

#main: RES
fnameData_RES = file.path(DAT_PATH, "SurveyEcologicalTransitionPhase2_Results_20230326.csv")
D = read.csv(fnameData_RES, header=TRUE, sep=";")                  # file reading
D_rawlong = D
cat(paste("Data imported from : ", fnameData_RES, "\n"))  # inform user

#get also participants if needed
fnameData_Participants = file.path(DAT_PATH, "SurveyEcologicalTransitionPhase2_Participants_20230326.csv")
D_PARTICIPANTS = read.csv(fnameData_Participants, header=TRUE, sep=",")                  # file reading

################ ################ ################

### Cleaning phase

#Remove rows from unvalidated responses
D = subset(D, submitdate..Date.de.soumission!="")
D_rawshort = D

#data IDENTITY
NbEnsChercheurs = 54
NbAppui = 10
NbPHDplus = 38
NbAll = NbEnsChercheurs+NbAppui+NbPHDplus
NbValidated = nrow(D)
NbNoAns = NbAll - NbValidated

#Better column names
colnames(D)[colnames(D) == "id..ID.de.la.réponse"] <- "ID"
colnames(D)[colnames(D) == "submitdate..Date.de.soumission"] <- "submitdate"
colnames(D)[colnames(D) == "lastpage..Dernière.page"] <- "lastpage"
colnames(D)[colnames(D) == "startlanguage..Langue.de.départ"] <- "startlanguage"
colnames(D)[colnames(D) == "seed..Tête.de.série"] <- "seed"
colnames(D)[colnames(D) == "startdate..Date.de.lancement"] <- "startdate"
colnames(D)[colnames(D) == "datestamp..Date.de.la.dernière.action"] <- "enddate"

#Better answer for statistics

#transform to numeric
colsOther <- c(which(names(D) == "D$QBat1..Régulation.du.thermostat.en.hiver..régler.le.thermostat.central.au.maximum.à...."),which(names(D) == "D$QBat2..Régulation.du.thermostat.en.été..régler.le.thermostat.central.au.minimum.à...."))

#hiver
D$QBat1..Régulation.du.thermostat.en.hiver..régler.le.thermostat.central.au.maximum.à.... = as.factor(D$QBat1..Régulation.du.thermostat.en.hiver..régler.le.thermostat.central.au.maximum.à....)
D$QBat1..Régulation.du.thermostat.en.hiver..régler.le.thermostat.central.au.maximum.à.... <- recode_factor(D$QBat1..Régulation.du.thermostat.en.hiver..régler.le.thermostat.central.au.maximum.à...., "16°C" = "16", "17°C" = "17", "18°C" = "18", "19°C (ne rien changer)" = "19", "Ne se prononce pas" = "")
D$QBat1..Régulation.du.thermostat.en.hiver..régler.le.thermostat.central.au.maximum.à.... = as.numeric(as.character(D$QBat1..Régulation.du.thermostat.en.hiver..régler.le.thermostat.central.au.maximum.à....))
#ete
D$QBat2..Régulation.du.thermostat.en.été..régler.le.thermostat.central.au.minimum.à.... = as.factor(D$QBat2..Régulation.du.thermostat.en.été..régler.le.thermostat.central.au.minimum.à....)
D$QBat2..Régulation.du.thermostat.en.été..régler.le.thermostat.central.au.minimum.à.... <- recode_factor(D$QBat2..Régulation.du.thermostat.en.été..régler.le.thermostat.central.au.minimum.à...., "33°C" = "33", "30°C" = "30", "29°C" = "29", "28°C" = "28", "27°C" = "27", "26°C (ne rien changer)" = "26", "Ne se prononce pas" = "")
D$QBat2..Régulation.du.thermostat.en.été..régler.le.thermostat.central.au.minimum.à.... = as.numeric(as.character(D$QBat2..Régulation.du.thermostat.en.été..régler.le.thermostat.central.au.minimum.à....))
#Categories
D$ID1..Indiquez.votre.statut <- recode_factor(D$ID1..Indiquez.votre.statut, "Personnels d'appui à la recherche (ingénieurs, administration/finance, logistique)" = "Appui", "Je ne souhaite pas répondre" = "NSP", "Enseignants-chercheurs (permanents, chercheurs associés, chercheurs contractuels)" = "E-C", "Doctorants / ATER / PAST" = "PHD+")
#Site de travail
D$ID2..Site.principal.de.travail <- recode_factor(D$ID2..Site.principal.de.travail, "Je ne souhaite pas répondre" = "NSP", "Autre" = "Autre", "Site médical associé (CHU, clinique)" = "Médical", "Site IMT Alès" = "IMT Alès", "Bâtiment EuroMov à Montpellier" = "Bât. EuroMov Mtp")
# type de restriction
# D$QMis2sub1..Si.une.limitation.des.voyages.moyen.ou.long.courrier.est.mise.en.place..la.limitation.devrait.être.calculée.par.... <- recode_factor(D$QMis2sub1..Si.une.limitation.des.voyages.moyen.ou.long.courrier.est.mise.en.place..la.limitation.devrait.être.calculée.par...., "" = "NSP", "A l'échelle de l'Unité" = "UMR", "Contrat pour les contractuels (doctorants, post-doc), durée pour les permanents" = "Contrat", "Durée et par personne" = "Personne", "Projet" = "Projet")
# Recode the factor levels using ifelse because sinon ça ne marche pas
D$QMis2sub1..Si.une.limitation.des.voyages.moyen.ou.long.courrier.est.mise.en.place..la.limitation.devrait.être.calculée.par.... <- factor(ifelse(D$QMis2sub1..Si.une.limitation.des.voyages.moyen.ou.long.courrier.est.mise.en.place..la.limitation.devrait.être.calculée.par.... == "", "NSP", ifelse(D$QMis2sub1..Si.une.limitation.des.voyages.moyen.ou.long.courrier.est.mise.en.place..la.limitation.devrait.être.calculée.par.... == "A l'échelle de l'Unité", "UMR", ifelse(D$QMis2sub1..Si.une.limitation.des.voyages.moyen.ou.long.courrier.est.mise.en.place..la.limitation.devrait.être.calculée.par.... == "Contrat pour les contractuels (doctorants, post-doc), durée pour les permanents", "Contrat", ifelse(D$QMis2sub1..Si.une.limitation.des.voyages.moyen.ou.long.courrier.est.mise.en.place..la.limitation.devrait.être.calculée.par.... == "Durée et par personne", "Personne", "Projet")))))
#vege
D$QRep1..Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Réduire.les.produits.issus.des.animaux <- recode_factor(D$QRep1..Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Réduire.les.produits.issus.des.animaux, "Ne rien changer" = " ", "Ajouter une option végétarienne" = "+ option végé", "Pas de viande rouge (+ option végétarienne)" = "Supprimer\nviande rouge\n+ option végé", "Pesco-végétarien: pas de viande (+ option végétarienne)" = "Pesco-végé\n+ option végé", "Végétarien: pas de viande, pas de poisson, pas de fruits de mer"="Végétarien","Végétalien: aucun produit issu des animaux (pas de viande, laitage, œufs, miel)" = "Végétalien")
#machine à café
D$QLab2..Changer.de.cafetière.pour.une.alternative.plus.écologique..moins.de.déchets.type.coffeeB.ou.à.grains. <- recode_factor(D$QLab2..Changer.de.cafetière.pour.une.alternative.plus.écologique..moins.de.déchets.type.coffeeB.ou.à.grains., "Ne se prononce pas"="NSP", "Non" = "Non", "Oui, lors du renouvellement de la machine"="Oui, lors du renouvellement", "Oui, maintenant"="Oui, maintenant")
#pied d'atelier
D$QDep3..Dans.l.optique.de.favoriser.les.déplacements.à.vélo..acheter.un.pied.d.atelier.pour.la.réparation.des.vélos.sur.nos.sites.de.travail <- recode_factor(D$QDep3..Dans.l.optique.de.favoriser.les.déplacements.à.vélo..acheter.un.pied.d.atelier.pour.la.réparation.des.vélos.sur.nos.sites.de.travail, "Ne se prononce pas" = "NSP", "Non" = "Non", "Oui, uniquement sur le site de Montpellier" = "Oui, seulement à Mtp", "Oui, sur les sites de Montpellier et d'Alès" = "Oui, à Alès et Mtp")
#recharge vehicules éléctriques
D$QDep5..Installer.une.borne.de.recharge.pour.véhicules.électriques...Si.cette.mesure.est.acceptée.dans.les.scénarios.de.l.étape.3..une.discussion.sera.mise.en.place.pour.fixer.la.méthode..possibilité..prix..provenance.des.fonds.... <- recode_factor(D$QDep5..Installer.une.borne.de.recharge.pour.véhicules.électriques...Si.cette.mesure.est.acceptée.dans.les.scénarios.de.l.étape.3..une.discussion.sera.mise.en.place.pour.fixer.la.méthode..possibilité..prix..provenance.des.fonds...., "Ne se prononce pas" = "NSP", "Non" = "Non", "Oui, sur les sites d'Alès et de Montpellier" = "Oui, à Alès et Mtp")
#voiture electrique
D$QDep6..Passer.le.parc.automobile.en.électrique..côté.Alès. <- recode_factor(D$QDep6..Passer.le.parc.automobile.en.électrique..côté.Alès., "Ne se prononce pas" = "NSP", "Non" = "Non", "Oui, lors du renouvellement des véhicules" = "Oui, lors du\nrenouvellement\ndes véhicules", "Oui, maintenant"="Oui,\nmaintenant")

# Recode yes/no questions to numeric
YesNoCols = c(12, 13, 16, 23, 26, 27, 28, 29, 30, 31, 32, 33, 34, 36, 37, 38, 39, 40, 42, 43, 44, 45, 46, 47, 48, 49, 51, 54, 55, 56, 57, 60, 62, 65, 66)
for (col_num in YesNoCols) {
  D[[col_num]] <- recode_factor(D[[col_num]], 
                                 "Ne se prononce pas" = "NSP", 
                                 "Non" = "Non", 
                                 "Oui, si nécessaire" = "Oui...", 
                                 "Oui" = "Oui")
}

#as numeric
colsAsNum = c(15, 18, 19, 20, 21, 22, 52, 53, 59)
D <- D %>% mutate(across(all_of(colsAsNum), as.numeric))

#don't change: as character
colsDontChange = c(9, 11, 14, 24, 33, 41, 50, 58, 67, 68, 69, 70)

#as factor
allOtherCols = c(colsOther, colsAsNum, colsDontChange)
allCols = 1:ncol(D)
colsAsFactor <- allCols[!allCols %in% allOtherCols]
D <- D %>% mutate(across(all_of(colsAsFactor), as.factor))
```

# 2. Resultats du questionnaire

#### Comment est calculé le score d'adhésion pour les questions de type Oui/ Oui si nécessaire/ Non ?
Pour chaque question, un nombre d'adhésion est d'abord calculé comme le nombre de personnes ayant répondu "Oui" à la question multiplié par 2 + nombre de personnes ayant répondu "Oui, si nécessaire" multiplié par 1 + nombre de personnes ayant répondu "Non" multiplié par 0.  
Le score d'adhésion est ensuite calculé comme le nombre d'adhésion divisé par le nombre de personne ayant répondu "Oui", "Oui, si nécessaire" et "Non" à cette question multiplié par 2. Ce résultat est multiplié par 100 pour obtenir le pourcentage.  
Ainsi, le score d'adhésion est de:  
- 0 si tout le monde réponds "Non"  
- 50 si tout le monde réponds "Oui, si nécessaire"  
- 50 si la moitié des personnes réponds "Oui" et l'autre moitié "Non"  
- 50 si 1/3 des personnes réponds "Oui", 1/3 "Oui, si nécessaire", 1/3 "Non"  
- 62.5 si 1/2 des personnes réponds "Oui", 1/4 "Oui, si nécessaire", 1/4 "Non"  
- 100 si tout le monde répond "Oui"  
Les personnes n'ayant pas répondu au sondage ou ayant répondu "Ne se prononce pas" sont donc exclus de ce calcul.  

```{r, warning = FALSE}
pieChart <- function (){
  # Créer le camembert avec ggplot2
  p <- ggplot(thisDF, aes(x="", y=Freq, fill=Var1)) + 
    geom_bar(stat="identity", width=1) +
    coord_polar(theta="y") +
    geom_text(aes(label = Labels),
              position = position_stack(vjust = 0.5)) +
    theme_void() +
    theme(
      legend.position="none",
      legend.title=element_blank(),
      legend.text=element_text(size=10),
      plot.title=element_text(face="bold", size=14, hjust=0.5)
    ) +
    labs(fill="") +
    scale_fill_brewer() +
    guides(fill=guide_legend(title="Catégories"))
  return(p)
}

###################################################################################################

adhesionScore <- function(thisDF){
  #security
  if (!length(which(thisDF$Var1=="NSP"))>0){
    thisDF %>% add_row(Var1 = "NSP", Freq = 0)
  }
  if (!length(which(thisDF$Var1=="Non"))>0){
    thisDF %>% add_row(Var1 = "Non", Freq = 0)
  }
  if (!length(which(thisDF$Var1=="Oui..."))>0){
    thisDF %>% add_row(Var1 = "Oui...", Freq = 0)
  }
  if (!length(which(thisDF$Var1=="Oui"))>0){
    thisDF %>% add_row(Var1 = "Oui", Freq = 0)
  }
  #go
  thisDF$Var2 <- as.numeric(as.character(recode_factor(thisDF$Var1, "NSP" = "", "Non" = "0", "Oui..." = "1", "Oui" = "2")))
  thisDF$Var3 <- thisDF$Var2*thisDF$Freq
  NbValidatedHere = sum(subset(thisDF, Var1=="Oui"|Var1=="Oui..."|Var1=="Non")$Freq)
  thisAdhesionScore = round(100*sum(thisDF$Var3, na.rm = TRUE)/(NbValidatedHere*2))
  return(thisAdhesionScore)
}

###################################################################################################

answerToKeepQuantiMax = function(Answers, scenarioPrct){
  scenarioDecimal = scenarioPrct/100
  NbResponseHere = length(which(!is.na(Answers)))
  NbToKeep = floor(NbResponseHere*scenarioDecimal)
  thisAnswerToKeep = sort(Answers)[NbToKeep]
  #security
  if (length(thisAnswerToKeep)==0){thisAnswerToKeep=min(Answers, na.rm=TRUE)}
  return(thisAnswerToKeep)
}

###################################################################################################

answerToKeepQuantiMin = function(Answers, scenarioPrct){
  scenarioDecimal = scenarioPrct/100
  NbResponseHere = length(which(!is.na(Answers)))
  NbToKeep = floor(NbResponseHere*scenarioDecimal)
  thisAnswerToKeep = sort(Answers, decreasing=TRUE)[NbToKeep]
  #security
  if (length(thisAnswerToKeep)==0){thisAnswerToKeep=max(Answers, na.rm=TRUE)}
  return(thisAnswerToKeep)
}
```


## Identité
### Qui a répondu au sondage ?
```{r, warning = FALSE}
#Nombre de réponses
Freq <- c(NbNoAns, NbValidated)
Var1 <- c("Non répondu","Répondu")
Prct <- paste(round(100*Freq/sum(Freq)),"%", sep="")
# Labels <- paste(Var1, "\n", Prct, sep ="")
Labels <- paste(Var1, "\nn = ", Freq, sep="")
thisDF <- data.frame(Var1,Freq,Prct,Labels)

# Créer le camembert avec ggplot2
p <- pieChart()
print(p)
```
  
### Catégories répondues
Appui = Personnels d'appui à la recherche (ingénieurs, administration/finance, logistique)  
PHD+ = Doctorants / ATER / PAST  
E-C = Enseignants-chercheurs (permanents, chercheurs associés, chercheurs contractuels)  
  
Les catégories de personnel sont à peu près les mêmes que pour l'ensemble des personnels Euromov DHM. Nous n'avons donc pas eu besoin de pondérer les résultats par statut.  
```{r, warning = FALSE}
#Pour les répondants
thisDF <- as.data.frame(table(D$ID1..Indiquez.votre.statut))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title="Pour les répondants")
print(p)

###########################

#Pour l'ensemble des personnels
Freq <- c(NbPHDplus, NbEnsChercheurs, NbAppui)
Var1 <- c("PHD+","E-C","Appui")
Prct <- paste(round(100*Freq/sum(Freq)),"%", sep="")
Labels <- paste(Var1, "\n", Prct, sep ="")
Labels2 <- paste(Var1, "\nn = ", Freq, sep="")
thisDF <- data.frame(Var1,Freq,Prct,Labels2)

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title="Pour l'ensemble des personnels")
print(p)
```
   
### Site principal de travail
Pour le site principal de travail, on a une sous-représentation des personnes travaillant sur site médical. Le ratio IMT Alès / Bâtiment EuroMov Montpellier est à peu près le même que pour l'ensemble des personnels. Nous n'avons pas pondéré les résultats par site de travail.  
```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$ID2..Site.principal.de.travail))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
print(p)
```
    
## Informatique / Numérique
### Créer un support de sensibilisation à la pollution numérique spécifique à la recherche (séminaire + document pdf des bonnes conduites numériques)
```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QInfo1..Créer.un.support.de.sensibilisation.à.la.pollution.numérique.spécifique.à.la.recherche..séminaire...document.pdf.des.bonnes.conduites.numériques.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QInfo1..Créer.un.support.de.sensibilisation.à.la.pollution.numérique.spécifique.à.la.recherche..séminaire...document.pdf.des.bonnes.conduites.numériques."
CategorieFRHere = "Informatique / Numérique"
MesureFRHere = "Créer un support de sensibilisation à la pollution numérique spécifique à la recherche (séminaire + document pdf des bonnes conduites numériques)"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Création d'un tutoriel pour convertir un "vieux" PC avec disque mécanique en PC "bureautique" avec juste l'achat d'un SSD
```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QInfo2..Création.d.un.tutoriel.pour.convertir.un..vieux..PC.avec.disque.mécanique.en.PC..bureautique..avec.juste.l.achat.d.un.SSD))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QInfo2..Création.d.un.tutoriel.pour.convertir.un..vieux..PC.avec.disque.mécanique.en.PC..bureautique..avec.juste.l.achat.d.un.SSD"
CategorieFRHere = "Informatique / Numérique"
MesureFRHere = "Création d'un tutoriel pour convertir un 'vieux' PC avec disque mécanique en PC 'bureautique' avec juste l'achat d'un SSD"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
    
## Missions
### Éviter les trajets d'avion lorsqu'une alternative bas carbone (train, bus...) en moins de ... heures existe
```{r, warning = FALSE}
thisVec <- D$QMis1..Éviter.les.trajets.d.avion.lorsqu.une.alternative.bas.carbone..train..bus.....en.moins.de.....heures.existe..réponse.en.nombre.d.heures...Mettre.0.pour.n.éviter.aucun.trajet.d.avion
thisDF <- as.data.frame(thisVec)

# Make the density plot
p <- ggplot(data = thisDF, aes(x=thisVec)) +
  geom_density(fill="#69b3a2", color="#e9ecef", alpha=0.8) +
  scale_y_continuous(labels = percent) +
  ggtitle(paste("Médiane = ", median(thisDF$thisVec, na.rm=TRUE),"h", sep=""))+
  xlab("Durée de trajet (bas carbone) (h)")+
  ylab("Densité (%)")
print(p)

########

#save adhesion for later use
MesureCodeHere = "QMis1..Éviter.les.trajets.d.avion.lorsqu.une.alternative.bas.carbone..train..bus.....en.moins.de.....heures.existe..réponse.en.nombre.d.heures...Mettre.0.pour.n.éviter.aucun.trajet.d.avion"
CategorieFRHere = "Missions"
MesureFRHere = "Éviter les trajets d'avion lorsqu'une alternative bas carbone (train, bus...) en moins de ... heures existe"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, answerToKeepQuantiMax(thisDF$thisVec, 0), answerToKeepQuantiMax(thisDF$thisVec, 10), answerToKeepQuantiMax(thisDF$thisVec, 20), answerToKeepQuantiMax(thisDF$thisVec, 30), answerToKeepQuantiMax(thisDF$thisVec, 40), answerToKeepQuantiMax(thisDF$thisVec, 50), answerToKeepQuantiMax(thisDF$thisVec, 60), answerToKeepQuantiMax(thisDF$thisVec, 70), answerToKeepQuantiMax(thisDF$thisVec, 80), answerToKeepQuantiMax(thisDF$thisVec, 90), answerToKeepQuantiMax(thisDF$thisVec, 100))
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Mettre en place une limitation des voyages moyen ou long courrier
```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QMis2..Mettre.en.place.une.limitation.des.voyages.moyen.ou.long.courrier))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QMis2..Mettre.en.place.une.limitation.des.voyages.moyen.ou.long.courrier"
CategorieFRHere = "Missions"
MesureFRHere = "Mettre en place une limitation des voyages moyen ou long courrier"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Si une limitation des voyages moyen ou long courrier est mise en place, la limitation devrait être calculée par ...

```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QMis2sub1..Si.une.limitation.des.voyages.moyen.ou.long.courrier.est.mise.en.place..la.limitation.devrait.être.calculée.par....))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title="Norme = Par durée et par personne")
print(p)
```
  
### Si limitation par personne, indiquez le nombre d'aller-retour moyen ou long courrier autorisés par an (réponse en années)
```{r, warning = FALSE}
thisVec <- D$QMis2sub1sub3..Si.limitation.par.personne..indiquez.le.nombre.d.aller.retour.moyen.ou.long.courrier.autorisés.par.an..réponse.en.années...Exemple.1..Pour.2.AR.par.personne.et.par.an..répondre..2...2.AR...1.an...Exemple.2..Pour.1.AR.par.personne.tout.les.5.ans..répondre..0.2...1.AR...5.ans.
thisDF <- as.data.frame(thisVec)

# Make the density plot
p <- ggplot(data = thisDF, aes(x=thisVec)) +
  geom_density(fill="#69b3a2", color="#e9ecef", alpha=0.8) +
  scale_y_continuous(labels = percent) +
  ggtitle(paste("Médiane = max ", median(thisDF$thisVec, na.rm=TRUE), " A-R par an et par personne", sep=""))+
  xlab("Nombre de vols A-R max par personne et par année")+
  ylab("Densité (%)")
print(p)

########

#save adhesion for later use
MesureCodeHere = "QMis2sub1sub3..Si.limitation.par.personne..indiquez.le.nombre.d.aller.retour.moyen.ou.long.courrier.autorisés.par.an..réponse.en.années...Exemple.1..Pour.2.AR.par.personne.et.par.an..répondre..2...2.AR...1.an...Exemple.2..Pour.1.AR.par.personne.tout.les.5.ans..répondre..0.2...1.AR...5.ans."
CategorieFRHere = "Missions"
MesureFRHere = "Si limitation par personne, indiquez le nombre d'aller-retour moyen ou long courrier autorisés par an (réponse en années)"
#Here we use different percentage to take into account previous question
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, Inf, Inf, Inf, Inf, answerToKeepQuantiMin(thisDF$thisVec, 14.29), answerToKeepQuantiMin(thisDF$thisVec, 28.57), answerToKeepQuantiMin(thisDF$thisVec, 42.86), answerToKeepQuantiMin(thisDF$thisVec, 57.14), answerToKeepQuantiMin(thisDF$thisVec, 71.43), answerToKeepQuantiMin(thisDF$thisVec, 85.71), answerToKeepQuantiMin(thisDF$thisVec, 100))
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Création d'un fichier partagé pour recenser les conférences par thématique et optimiser les délégations
```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QMis3..Création.d.un.fichier.partagé.pour.recenser.les.conférences.par.thématique.et.optimiser.les.délégations...L.objectif.est.de.minimiser.le.nombre.de.personnes.qui.se.déplacent..en.assignant.plusieurs.présentations.de.la.même.équipe.à.une.seule.personne..lorsque.possible..))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QMis3..Création.d.un.fichier.partagé.pour.recenser.les.conférences.par.thématique.et.optimiser.les.délégations...L.objectif.est.de.minimiser.le.nombre.de.personnes.qui.se.déplacent..en.assignant.plusieurs.présentations.de.la.même.équipe.à.une.seule.personne..lorsque.possible.."
CategorieFRHere = "Missions"
MesureFRHere = "Création d'un fichier partagé pour recenser les conférences par thématique et optimiser les délégations"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
## Réduction de l'impact des repas lors d'évènements
### Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Réduire les produits issus des animaux
Par soucis d'affichage, la catégorie "Ne rien changer" n'est pas affichée. C'est la catégorie la plus claire (7%).  
```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QRep1..Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Réduire.les.produits.issus.des.animaux))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title="Médiane = Supprimer viande rouge + ajouter option végétarienne")
print(p)

########

#add cumul prct column
# Convert the "Prct" column to numeric without the "%" symbol
thisDF$NumericPrct <- as.numeric(gsub("%", "", thisDF$Prct))
# Calculate the cumulative sum of the numeric percentages
thisDF$CumulPrct <- cumsum(thisDF$NumericPrct)
thisDF$CumulDeci <- thisDF$CumulPrct/100
# Convert the cumulative sum back to a percentage format
thisDF$CumulPrct <- paste0(thisDF$CumulPrct, "%")
#add column with beautiful names
thisDF$Var1Beautiful <- str_replace_all(thisDF$Var1,"\n"," ")
thisDF$Var1Beautiful[1] <- "Ne rien changer"

#save adhesion for later use
MesureCodeHere = "QRep1..Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Réduire.les.produits.issus.des.animaux"
CategorieFRHere = "Evènements/Repas"
MesureFRHere = "Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Réduire les produits issus des animaux"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, thisDF$Var1Beautiful[which(thisDF$CumulDeci >= 0)[1]], thisDF$Var1Beautiful[which(thisDF$CumulDeci >= 0.1)[1]], thisDF$Var1Beautiful[which(thisDF$CumulDeci >= 0.2)[1]], thisDF$Var1Beautiful[which(thisDF$CumulDeci >= 0.3)[1]], thisDF$Var1Beautiful[which(thisDF$CumulDeci >= 0.4)[1]], thisDF$Var1Beautiful[which(thisDF$CumulDeci >= 0.5)[1]], thisDF$Var1Beautiful[which(thisDF$CumulDeci >= 0.6)[1]], thisDF$Var1Beautiful[which(thisDF$CumulDeci >= 0.7)[1]], thisDF$Var1Beautiful[which(thisDF$CumulDeci >= 0.8)[1]], thisDF$Var1Beautiful[which(thisDF$CumulDeci >= 0.9)[1]], thisDF$Var1Beautiful[which(thisDF$CumulDeci >= 1)[1]])
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Diminuer boissons/aliments à fort impact environnemental: Café

```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QRep2.SQ001...Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Diminuer.boissons.aliments.à.fort.impact.environnemental...Café.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRep2.SQ001...Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Diminuer.boissons.aliments.à.fort.impact.environnemental...Café."
CategorieFRHere = "Evènements/Repas"
MesureFRHere = "Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Diminuer boissons/aliments à fort impact environnemental: Café"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Diminuer boissons/aliments à fort impact environnemental: Thé

```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QRep2.SQ002...Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Diminuer.boissons.aliments.à.fort.impact.environnemental...Thé.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRep2.SQ002...Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Diminuer.boissons.aliments.à.fort.impact.environnemental...Thé."
CategorieFRHere = "Evènements/Repas"
MesureFRHere = "Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Diminuer boissons/aliments à fort impact environnemental: Thé"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
    
### Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Diminuer boissons/aliments à fort impact environnemental: Alcool

```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QRep2.SQ003...Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Diminuer.boissons.aliments.à.fort.impact.environnemental...Alcool.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRep2.SQ003...Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Diminuer.boissons.aliments.à.fort.impact.environnemental...Alcool."
CategorieFRHere = "Evènements/Repas"
MesureFRHere = "Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Diminuer boissons/aliments à fort impact environnemental: Alcool"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Diminuer boissons/aliments à fort impact environnemental: Chocolat
```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QRep2.SQ004...Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Diminuer.boissons.aliments.à.fort.impact.environnemental...Chocolat.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRep2.SQ004...Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Diminuer.boissons.aliments.à.fort.impact.environnemental...Chocolat."
CategorieFRHere = "Evènements/Repas"
MesureFRHere = "Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Diminuer boissons/aliments à fort impact environnemental: Chocolat"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
    
### Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Favoriser les produits issus de l'agriculture biologique

```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QRep3..Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Favoriser.les.produits.issus.de.l.agriculture.biologique))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRep3..Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Favoriser.les.produits.issus.de.l.agriculture.biologique"
CategorieFRHere = "Evènements/Repas"
MesureFRHere = "Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Favoriser les produits issus de l'agriculture biologique"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
    
### Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Favoriser des produits locaux

```{r, warning = FALSE}
thisDF <- as.data.frame(table(D$QRep4..Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Favoriser.des.produits.locaux))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRep4..Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Favoriser.des.produits.locaux"
CategorieFRHere = "Evènements/Repas"
MesureFRHere = "Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Favoriser des produits locaux"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Pratiquer le zero déchet (minimisation des déchets)

```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QRep5..Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Pratiquer.le.zero.déchet..minimisation.des.déchets.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRep5..Lors.de.repas.organisés.par.le.laboratoire..séminaires..AG..conférences.......Pratiquer.le.zero.déchet..minimisation.des.déchets."
CategorieFRHere = "Evènements/Repas"
MesureFRHere = "Lors de repas organisés par le laboratoire (séminaires, AG, conférences...): Pratiquer le zero déchet (minimisation des déchets)"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
## Vie du labo
### Créer un compost pour les épluchures de fruits et légumes des repas du midi
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QLab1..Créer.un.compost.pour.les.épluchures.de.fruits.et.légumes.des.repas.du.midi))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QLab1..Créer.un.compost.pour.les.épluchures.de.fruits.et.légumes.des.repas.du.midi"
CategorieFRHere = "Vie du labo"
MesureFRHere = "Créer un compost pour les épluchures de fruits et légumes des repas du midi"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Changer de cafetière pour une alternative plus écologique (moins de déchets type coffeeB ou à grains)
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QLab2..Changer.de.cafetière.pour.une.alternative.plus.écologique..moins.de.déchets.type.coffeeB.ou.à.grains.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title="Médiane: Oui, lors du renouvellement de la machine")
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QLab2..Changer.de.cafetière.pour.une.alternative.plus.écologique..moins.de.déchets.type.coffeeB.ou.à.grains."
CategorieFRHere = "Vie du labo"
MesureFRHere = "Changer de cafetière pour une alternative plus écologique (moins de déchets type coffeeB ou à grains)"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, F, T, T, T, T, T, T, T, T, T, T)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Créer un jardin partagé à l'initiative du personnel
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QLab3..Créer.un.jardin.partagé.à.l.initiative.du.personnel))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QLab3..Créer.un.jardin.partagé.à.l.initiative.du.personnel"
CategorieFRHere = "Vie du labo"
MesureFRHere = "Créer un jardin partagé à l'initiative du personnel"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Végétaliser davantage le patio
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QLab4..Végétaliser.davantage.le.patio))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QLab4..Végétaliser.davantage.le.patio"
CategorieFRHere = "Vie du labo"
MesureFRHere = "Végétaliser davantage le patio"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Utiliser des produits ménagers biodégradables en favorisant le vrac (liquide vaisselle, produit d'entretient)
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QLab5..Utiliser.des.produits.ménagers.biodégradables.en.favorisant.le.vrac..liquide.vaisselle..produit.d.entretient.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QLab5..Utiliser.des.produits.ménagers.biodégradables.en.favorisant.le.vrac..liquide.vaisselle..produit.d.entretient."
CategorieFRHere = "Vie du labo"
MesureFRHere = "Utiliser des produits ménagers biodégradables en favorisant le vrac (liquide vaisselle, produit d'entretient)"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Politique de tri et de réduction des déchets
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QLab6..Politique.de.tri.et.de.réduction.des.déchets))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QLab6..Politique.de.tri.et.de.réduction.des.déchets"
CategorieFRHere = "Vie du labo"
MesureFRHere = "Politique de tri et de réduction des déchets"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Réaliser chaque année un séminaire 'écologique' où sera présenté le bilan des émissions de gaz à effet de serre du labo ainsi que les actions concrètes réalisées pour la transition écologique
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QLab7..Réaliser.chaque.année.un.séminaire..écologique..où.sera.présenté.le.bilan.des.émissions.de.gaz.à.effet.de.serre.du.labo.ainsi.que.les.actions.concrètes.réalisées.pour.la.transition.écologique))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QLab7..Réaliser.chaque.année.un.séminaire..écologique..où.sera.présenté.le.bilan.des.émissions.de.gaz.à.effet.de.serre.du.labo.ainsi.que.les.actions.concrètes.réalisées.pour.la.transition.écologique"
CategorieFRHere = "Vie du labo"
MesureFRHere = "Réaliser chaque année un séminaire 'écologique' où sera présenté le bilan des émissions de gaz à effet de serre du labo ainsi que les actions concrètes réalisées pour la transition écologique"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
## Recherche scientifique
### Financer chaque année le déplacement de certains acteurs du laboratoire à des journées de sensibilisation ou de formation aux enjeux climatiques / énergétiques / environnementaux comme: la journée labo1point5, l'univershifté...
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QRec1..Financer.chaque.année.le.déplacement.de.certains.acteurs.du.laboratoire.à.des.journées.de.sensibilisation.ou.de.formation.aux.enjeux.climatiques...énergétiques...environnementaux.comme..la.journée.labo1point5..l.univershifté...))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRec1..Financer.chaque.année.le.déplacement.de.certains.acteurs.du.laboratoire.à.des.journées.de.sensibilisation.ou.de.formation.aux.enjeux.climatiques...énergétiques...environnementaux.comme..la.journée.labo1point5..l.univershifté..."
CategorieFRHere = "Recherche scientifique"
MesureFRHere = "Financer chaque année le déplacement de certains acteurs du laboratoire à des journées de sensibilisation ou de formation aux enjeux climatiques / énergétiques / environnementaux comme: la journée labo1point5, l'univershifté..."
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Favoriser la réutilisation des données expérimentales : En mettant en place une bibliothèque de données ouvertes au sein d'EuroMov En proposant un séminaire et un guide pratique permettant de partager ses données en open data et de créer un data paper
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QRec2..Favoriser.la.réutilisation.des.données.expérimentales......En.mettant.en.place.une.bibliothèque.de.données.ouvertes.au.sein.d.EuroMov..En.proposant.un.séminaire.et.un.guide.pratique.permettant.de.partager.ses.données.en.open.data.et.de.créer.un.data.paper...Un.Data.paper.est.un.article.scientifique.évalué.par.les.pairs.et.citable..Il.décrit.un.jeu.de.données..la.méthode.ayant.permis.de.l.obtenir.et.le.potentiel.de.réutilisation.de.ce.jeu.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRec2..Favoriser.la.réutilisation.des.données.expérimentales......En.mettant.en.place.une.bibliothèque.de.données.ouvertes.au.sein.d.EuroMov..En.proposant.un.séminaire.et.un.guide.pratique.permettant.de.partager.ses.données.en.open.data.et.de.créer.un.data.paper...Un.Data.paper.est.un.article.scientifique.évalué.par.les.pairs.et.citable..Il.décrit.un.jeu.de.données..la.méthode.ayant.permis.de.l.obtenir.et.le.potentiel.de.réutilisation.de.ce.jeu."
CategorieFRHere = "Recherche scientifique"
MesureFRHere = "Favoriser la réutilisation des données expérimentales : En mettant en place une bibliothèque de données ouvertes au sein d'EuroMov En proposant un séminaire et un guide pratique permettant de partager ses données en open data et de créer un data paper"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Rendre obligatoire la formation "Impact environnemental de la recherche" proposée par l'UM aux doctorants primo-entrant, au même titre que les formations "éthique et intégrité de la recherche"
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QRec3..Rendre.obligatoire.la.formation..Impact.environnemental.de.la.recherche..proposée.par.l.UM.aux.doctorants.primo.entrant..au.même.titre.que.les.formations..éthique.et.intégrité.de.la.recherche.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRec3..Rendre.obligatoire.la.formation..Impact.environnemental.de.la.recherche..proposée.par.l.UM.aux.doctorants.primo.entrant..au.même.titre.que.les.formations..éthique.et.intégrité.de.la.recherche."
CategorieFRHere = "Recherche scientifique"
MesureFRHere = "Rendre obligatoire la formation 'Impact environnemental de la recherche' proposée par l'UM aux doctorants primo-entrant, au même titre que les formations éthique et intégrité de la recherche"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Favoriser les recherches low-tech en proposant un séminaire et un guide pratique sur ce sujet
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QRec4..Favoriser.les.recherches.low.tech.en.proposant.un.séminaire.et.un.guide.pratique.sur.ce.sujet..La.low.tech..en.opposition.à.la.high.tech..désigne.une.catégorie.de.technique.durable..simple..appropriable.et.résiliente..Lorsqu.il.s.agit.de.biens..ces.technologies.cherchent.à.être.simples..bien.pensées..bien.dimensionnées.et.réparables..Les.low.tech.sont.conçues.afin.de.diminuer.l.impact.environnemental.de.la.fabrication..de.faciliter.la.réparabilité.et.d.allonger.la.durée.de.vie.de.ces.biens..Est.souvent.associée.la.notion.de.transparence.afin.de.favoriser.la.démarche..Do.it.yourself..))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRec4..Favoriser.les.recherches.low.tech.en.proposant.un.séminaire.et.un.guide.pratique.sur.ce.sujet..La.low.tech..en.opposition.à.la.high.tech..désigne.une.catégorie.de.technique.durable..simple..appropriable.et.résiliente..Lorsqu.il.s.agit.de.biens..ces.technologies.cherchent.à.être.simples..bien.pensées..bien.dimensionnées.et.réparables..Les.low.tech.sont.conçues.afin.de.diminuer.l.impact.environnemental.de.la.fabrication..de.faciliter.la.réparabilité.et.d.allonger.la.durée.de.vie.de.ces.biens..Est.souvent.associée.la.notion.de.transparence.afin.de.favoriser.la.démarche..Do.it.yourself.."
CategorieFRHere = "Recherche scientifique"
MesureFRHere = "Favoriser les recherches low-tech en proposant un séminaire et un guide pratique sur ce sujet"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Faciliter le développement de codes informatiques en développant un pipeline de validation puis d'archivage des codes utilisés pour alimenter une bibliothèque software EuroMov réutilisable (type github/gitlab partagé)
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QRec5..Faciliter.le.développement.de.codes.informatiques.en.développant.un.pipeline.de.validation.puis.d.archivage.des.codes.utilisés.pour.alimenter.une.bibliothèque.software.EuroMov.réutilisable..type.github.gitlab.partagé...L.optimisation.de.chaque.étape.de.recherche.permet.de.libérer.du.temps.et.des.ressources..et.ainsi.de.réduire.l.empreinte.environnementale.de.chaque.projet.de.recherche.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRec5..Faciliter.le.développement.de.codes.informatiques.en.développant.un.pipeline.de.validation.puis.d.archivage.des.codes.utilisés.pour.alimenter.une.bibliothèque.software.EuroMov.réutilisable..type.github.gitlab.partagé...L.optimisation.de.chaque.étape.de.recherche.permet.de.libérer.du.temps.et.des.ressources..et.ainsi.de.réduire.l.empreinte.environnementale.de.chaque.projet.de.recherche."
CategorieFRHere = "Recherche scientifique"
MesureFRHere = "Faciliter le développement de codes informatiques en développant un pipeline de validation puis d'archivage des codes utilisés pour alimenter une bibliothèque software EuroMov réutilisable (type github/gitlab partagé)"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Mettre en place un comité d'éthique environnementale visant à analyser le ratio bénéfice/coût environnemental de chaque nouveau projet de recherche de l'unité
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QRec6..Mettre.en.place.un.comité.d.éthique.environnementale.visant.à.analyser.le.ratio.bénéfice.coût.environnemental.de.chaque.nouveau.projet.de.recherche.de.l.unité))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRec6..Mettre.en.place.un.comité.d.éthique.environnementale.visant.à.analyser.le.ratio.bénéfice.coût.environnemental.de.chaque.nouveau.projet.de.recherche.de.l.unité"
CategorieFRHere = "Recherche scientifique"
MesureFRHere = "Mettre en place un comité d'éthique environnementale visant à analyser le ratio bénéfice/coût environnemental de chaque nouveau projet de recherche de l'unité"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Demander une justification des temps de calculs informatique (lorsque accès serveur nécessaire) afin de minimiser les calculs gourmands en énergie
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QRec7..Demander.une.justification.des.temps.de.calculs.informatique..lorsque.accès.serveur.nécessaire..afin.de.minimiser.les.calculs.gourmands.en.énergie))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRec7..Demander.une.justification.des.temps.de.calculs.informatique..lorsque.accès.serveur.nécessaire..afin.de.minimiser.les.calculs.gourmands.en.énergie"
CategorieFRHere = "Recherche scientifique"
MesureFRHere = "Demander une justification des temps de calculs informatique (lorsque accès serveur nécessaire) afin de minimiser les calculs gourmands en énergie"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Demander une justification des technologies et fréquences d'échantillonnage utilisées sur les nouveaux projets, afin de minimiser les technologies à fort impact carbone et minimiser le volume et la complexité informatique liés au stockage et à l'analyse de données
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QRec8..Demander.une.justification.des.technologies.et.fréquences.d.échantillonnage.utilisées.sur.les.nouveaux.projets..afin.de.minimiser.les.technologies.à.fort.impact.carbone.et.minimiser.le.volume.et.la.complexité.informatique.liés.au.stockage.et.à.l.analyse.de.données))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QRec8..Demander.une.justification.des.technologies.et.fréquences.d.échantillonnage.utilisées.sur.les.nouveaux.projets..afin.de.minimiser.les.technologies.à.fort.impact.carbone.et.minimiser.le.volume.et.la.complexité.informatique.liés.au.stockage.et.à.l.analyse.de.données"
CategorieFRHere = "Recherche scientifique"
MesureFRHere = "Demander une justification des technologies et fréquences d'échantillonnage utilisées sur les nouveaux projets, afin de minimiser les technologies à fort impact carbone et minimiser le volume et la complexité informatique liés au stockage et à l'analyse de données"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
## Bâtiment / Achats
### Lors d'un besoin matériel (numérique ou non), appliquer la procédure d'achat suivante:
1) Réutilisation d'un matériel similaire déjà existant,  
2) Si impossible dans un délai raisonnable, réparation d'un matériel similaire déjà existant mais non fonctionnel,  
3) Si impossible dans un délai raisonnable, achat de matériel d'occasion,  
4) Si impossible dans un délai raisonnable, achat de matériel reconditionné,  
5) Si impossible dans un délai raisonnable, achat de matériel fabriqué à partir de matières premières recyclées,  
6) Si impossible dans un délai raisonnable, achat de matériel neuf.  
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QAch1..Lors.d.un.besoin.matériel..numérique.ou.non...appliquer.la.procédure.d.achat.suivante.....Réutilisation.d.un.matériel.similaire.déjà.existant...Si.impossible.dans.un.délai.raisonnable..réparation.d.un.matériel.similaire.déjà.existant.mais.non.fonctionnel...Si.impossible.dans.un.délai.raisonnable..achat.de.matériel.d.occasion...Si.impossible.dans.un.délai.raisonnable..achat.de.matériel.reconditionné...Si.impossible.dans.un.délai.raisonnable..achat.de.matériel.fabriqué.à.partir.de.matières.premières.recyclées...Si.impossible.dans.un.délai.raisonnable..achat.de.matériel.neuf.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QAch1..Lors.d.un.besoin.matériel..numérique.ou.non...appliquer.la.procédure.d.achat.suivante.....Réutilisation.d.un.matériel.similaire.déjà.existant...Si.impossible.dans.un.délai.raisonnable..réparation.d.un.matériel.similaire.déjà.existant.mais.non.fonctionnel...Si.impossible.dans.un.délai.raisonnable..achat.de.matériel.d.occasion...Si.impossible.dans.un.délai.raisonnable..achat.de.matériel.reconditionné...Si.impossible.dans.un.délai.raisonnable..achat.de.matériel.fabriqué.à.partir.de.matières.premières.recyclées...Si.impossible.dans.un.délai.raisonnable..achat.de.matériel.neuf."
CategorieFRHere = "Bâtiment / Achats"
MesureFRHere = "Lors d'un besoin matériel (numérique ou non), appliquer la procédure d'achat réutilisation/ réparation/ occasion/ reconditionné/ recyclé/ neuf"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Régulation du thermostat en hiver: régler le thermostat central au maximum à ...
```{r, warning=FALSE}
thisVec <- D$QBat1..Régulation.du.thermostat.en.hiver..régler.le.thermostat.central.au.maximum.à....
thisDF <- as.data.frame(thisVec)

# Make the density plot
p <- ggplot(data = thisDF, aes(x=thisVec)) +
  geom_histogram(binwidth=1, fill="#69b3a2", color="#e9ecef", alpha=0.8) +
  ggtitle(paste("Médiane = ", median(thisDF$thisVec, na.rm=TRUE), "°C en hiver (au lieu de 19°C actuellement)", sep=""))+
  xlab("Régulation du thermostat central en hiver à ... (°C)")+
  ylab("Densité (%)")
print(p)

########

#save adhesion for later use
MesureCodeHere = "QBat1..Régulation.du.thermostat.en.hiver..régler.le.thermostat.central.au.maximum.à...."
CategorieFRHere = "Bâtiment / Achats"
MesureFRHere = "Régulation du thermostat en hiver: régler le thermostat central au maximum à ..."
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, answerToKeepQuantiMin(thisDF$thisVec, 0), answerToKeepQuantiMin(thisDF$thisVec, 10), answerToKeepQuantiMin(thisDF$thisVec, 20), answerToKeepQuantiMin(thisDF$thisVec, 30), answerToKeepQuantiMin(thisDF$thisVec, 40), answerToKeepQuantiMin(thisDF$thisVec, 50), answerToKeepQuantiMin(thisDF$thisVec, 60), answerToKeepQuantiMin(thisDF$thisVec, 70), answerToKeepQuantiMin(thisDF$thisVec, 80), answerToKeepQuantiMin(thisDF$thisVec, 90), answerToKeepQuantiMin(thisDF$thisVec, 100))
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Régulation du thermostat en été: régler le thermostat central au minimum à ...
```{r, warning=FALSE}
thisVec <- D$QBat2..Régulation.du.thermostat.en.été..régler.le.thermostat.central.au.minimum.à....
thisDF <- as.data.frame(thisVec)

# Make the density plot
p <- ggplot(data = thisDF, aes(x=thisVec)) +
  geom_histogram(binwidth=1, fill="#69b3a2", color="#e9ecef", alpha=0.8) +
  ggtitle(paste("Médiane = ", median(thisDF$thisVec, na.rm=TRUE), "°C en été (au lieu de 26°C actuellement)", sep=""))+
  xlab("Régulation du thermostat central en été à ... (°C)")+
  ylab("Densité (%)")
print(p)

########

#save adhesion for later use
MesureCodeHere = "QBat2..Régulation.du.thermostat.en.été..régler.le.thermostat.central.au.minimum.à...."
CategorieFRHere = "Bâtiment / Achats"
MesureFRHere = "Régulation du thermostat en été: régler le thermostat central au minimum à ..."
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, answerToKeepQuantiMax(thisDF$thisVec, 0), answerToKeepQuantiMax(thisDF$thisVec, 10), answerToKeepQuantiMax(thisDF$thisVec, 20), answerToKeepQuantiMax(thisDF$thisVec, 30), answerToKeepQuantiMax(thisDF$thisVec, 40), answerToKeepQuantiMax(thisDF$thisVec, 50), answerToKeepQuantiMax(thisDF$thisVec, 60), answerToKeepQuantiMax(thisDF$thisVec, 70), answerToKeepQuantiMax(thisDF$thisVec, 80), answerToKeepQuantiMax(thisDF$thisVec, 90), answerToKeepQuantiMax(thisDF$thisVec, 100))
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Favoriser un meilleur entretient du bâtiment afin qu'il soit utilisé à son optimum énergétique
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QBat3..Favoriser.un.meilleur.entretient.du.bâtiment.afin.qu.il.soit.utilisé.à.son.optimum.énergétique))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QBat3..Favoriser.un.meilleur.entretient.du.bâtiment.afin.qu.il.soit.utilisé.à.son.optimum.énergétique"
CategorieFRHere = "Bâtiment / Achats"
MesureFRHere = "Favoriser un meilleur entretient du bâtiment afin qu'il soit utilisé à son optimum énergétique"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Réduire le thermostat la nuit (entre 22h et 6h) et le weekend à 16°C en hiver
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QBat4..Réduire.le.thermostat.la.nuit..entre.22h.et.6h..et.le.weekend.à.16.C.en.hiver))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QBat4..Réduire.le.thermostat.la.nuit..entre.22h.et.6h..et.le.weekend.à.16.C.en.hiver"
CategorieFRHere = "Bâtiment / Achats"
MesureFRHere = "Réduire le thermostat la nuit (entre 22h et 6h) et le weekend à 16°C en hiver"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Pour le site d'Alès, si besoin (selon bilan énergétique), étudier la question de l'isolation du bâtiment
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QBat5..Pour.le.site.d.Alès..si.besoin..selon.bilan.énergétique...étudier.la.question.de.l.isolation.du.bâtiment))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QBat5..Pour.le.site.d.Alès..si.besoin..selon.bilan.énergétique...étudier.la.question.de.l.isolation.du.bâtiment"
CategorieFRHere = "Bâtiment / Achats"
MesureFRHere = "Pour le site d'Alès, si besoin (selon bilan énergétique), étudier la question de l'isolation du bâtiment"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Pour le site d'Alès, si besoin (selon bilan énergétique), étudier la question de changer de système de chauffage pour un système plus écologique
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QBat6..Pour.le.site.d.Alès..si.besoin..selon.bilan.énergétique...étudier.la.question.de.changer.de.système.de.chauffage.pour.un.système.plus.écologique))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QBat6..Pour.le.site.d.Alès..si.besoin..selon.bilan.énergétique...étudier.la.question.de.changer.de.système.de.chauffage.pour.un.système.plus.écologique"
CategorieFRHere = "Bâtiment / Achats"
MesureFRHere = "Pour le site d'Alès, si besoin (selon bilan énergétique), étudier la question de changer de système de chauffage pour un système plus écologique"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
## Déplacements domicile-travail / Déplacements professionnels avec véhicule
### Télétravail encouragé ... jours par semaine (réponse en nombre de jours)
```{r, warning=FALSE}
thisVec <- D$QDep1..Télétravail.encouragé.....jours.par.semaine..réponse.en.nombre.de.jours.
thisDF <- as.data.frame(thisVec)

# Make the density plot
p <- ggplot(data = thisDF, aes(x=thisVec)) +
  geom_histogram(binwidth=1, fill="#69b3a2", color="#e9ecef", alpha=0.8) +
  ggtitle(paste("Médiane = ", median(thisDF$thisVec, na.rm=TRUE), " jours de télétravail par semaine", sep=""))+
  xlab("Nombre de jours par semaine où le télétravail est encouragé")+
  ylab("Densité (%)")
print(p)

########

#save adhesion for later use
MesureCodeHere = "QDep1..Télétravail.encouragé.....jours.par.semaine..réponse.en.nombre.de.jours."
CategorieFRHere = "Déplacements (hors missions)"
MesureFRHere = "Nombre de jours par semaine où le télétravail est encouragé"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, answerToKeepQuantiMax(thisDF$thisVec, 0), answerToKeepQuantiMax(thisDF$thisVec, 10), answerToKeepQuantiMax(thisDF$thisVec, 20), answerToKeepQuantiMax(thisDF$thisVec, 30), answerToKeepQuantiMax(thisDF$thisVec, 40), answerToKeepQuantiMax(thisDF$thisVec, 50), answerToKeepQuantiMax(thisDF$thisVec, 60), answerToKeepQuantiMax(thisDF$thisVec, 70), answerToKeepQuantiMax(thisDF$thisVec, 80), answerToKeepQuantiMax(thisDF$thisVec, 90), answerToKeepQuantiMax(thisDF$thisVec, 100))
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Dans l'optique de voir l'évolution de nos modes de transports et permettre la mise en place d'objectifs quantifiables: Comptabliser les forfaits "mobilité durable" des personnels
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QDep2..Dans.l.optique.de.voir.l.évolution.de.nos.modes.de.transports.et.permettre.la.mise.en.place.d.objectifs.quantifiables..Comptabliser.les.forfaits..mobilité.durable..des.personnels))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QDep2..Dans.l.optique.de.voir.l.évolution.de.nos.modes.de.transports.et.permettre.la.mise.en.place.d.objectifs.quantifiables..Comptabliser.les.forfaits..mobilité.durable..des.personnels"
CategorieFRHere = "Déplacements (hors missions)"
MesureFRHere = "Dans l'optique de voir l'évolution de nos modes de transports et permettre la mise en place d'objectifs quantifiables: Comptabliser les forfaits 'mobilité durable' des personnels"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Dans l'optique de favoriser les déplacements à vélo: acheter un pied d'atelier pour la réparation des vélos sur nos sites de travail
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QDep3..Dans.l.optique.de.favoriser.les.déplacements.à.vélo..acheter.un.pied.d.atelier.pour.la.réparation.des.vélos.sur.nos.sites.de.travail))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title="Médiane = Oui, sur les sites d'Alès et de Montpellier")
print(p)

########

#save adhesion for later use
MesureCodeHere = "QDep3..Dans.l.optique.de.favoriser.les.déplacements.à.vélo..acheter.un.pied.d.atelier.pour.la.réparation.des.vélos.sur.nos.sites.de.travail"
CategorieFRHere = "Déplacements (hors missions)"
MesureFRHere = "Dans l'optique de favoriser les déplacements à vélo: acheter un pied d'atelier pour la réparation des vélos sur nos sites de travail"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, "Non", "Non", "Oui, seulement à Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp")
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Installer une borne de recharge pour véhicules électriques
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QDep5..Installer.une.borne.de.recharge.pour.véhicules.électriques...Si.cette.mesure.est.acceptée.dans.les.scénarios.de.l.étape.3..une.discussion.sera.mise.en.place.pour.fixer.la.méthode..possibilité..prix..provenance.des.fonds....))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title="Médiane = Oui, sur les sites d'Alès et de Montpellier")
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QDep5..Installer.une.borne.de.recharge.pour.véhicules.électriques...Si.cette.mesure.est.acceptée.dans.les.scénarios.de.l.étape.3..une.discussion.sera.mise.en.place.pour.fixer.la.méthode..possibilité..prix..provenance.des.fonds...."
CategorieFRHere = "Déplacements (hors missions)"
MesureFRHere = "Installer une borne de recharge pour véhicules électriques"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, "Non", "Non", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp", "Oui, à Alès et Mtp")
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Passer le parc automobile en électrique (côté Alès)
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QDep6..Passer.le.parc.automobile.en.électrique..côté.Alès.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title="Médiane = Oui, lors du renouvellement des véhicules")
print(p)

########

#save adhesion for later use
MesureCodeHere = "QDep6..Passer.le.parc.automobile.en.électrique..côté.Alès."
CategorieFRHere = "Déplacements (hors missions)"
MesureFRHere = "Passer le parc automobile en électrique (côté Alès)"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, "Non", "Oui, lors du renouvellement des véhicules", "Oui, lors du renouvellement des véhicules", "Oui, lors du renouvellement des véhicules", "Oui, lors du renouvellement des véhicules", "Oui, lors du renouvellement des véhicules", "Oui, lors du renouvellement des véhicules", "Oui, lors du renouvellement des véhicules", "Oui, lors du renouvellement des véhicules", "Oui, lors du renouvellement des véhicules", "Oui, maintenant")
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Mettre des vélos à disposition pour les trajets courts
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QDep7..Mettre.des.vélos.à.disposition.pour.les.trajets.courts..Par.exemple.sur.le.site.de.Montpellier..pour.les.salariés.venant.en.voiture.et.devant.faire.le.trajet.EuroMov...gt..CHU.pour.une.réunion.au.cours.de.la.journée.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QDep7..Mettre.des.vélos.à.disposition.pour.les.trajets.courts..Par.exemple.sur.le.site.de.Montpellier..pour.les.salariés.venant.en.voiture.et.devant.faire.le.trajet.EuroMov...gt..CHU.pour.une.réunion.au.cours.de.la.journée."
CategorieFRHere = "Déplacements (hors missions)"
MesureFRHere = "Mettre des vélos à disposition pour les trajets courts"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
### Mettre en place un outil de gestion et d'organisation collective des covoiturages entre IMT Ales et Université de Montpellier (plusieurs laboratoires concernés)
```{r, warning=FALSE}
thisDF <- as.data.frame(table(D$QDep8..Mettre.en.place.un.outil.de.gestion.et.d.organisation.collective.des.covoiturages.entre.IMT.Ales.et.Université.de.Montpellier..plusieurs.laboratoires.concernés.))
thisDF$Prct <- paste(round(100*thisDF$Freq/sum(thisDF$Freq)),"%", sep="")
thisDF$Labels <- paste(thisDF$Var1, "\n", thisDF$Prct, sep ="")

# Créer le camembert avec ggplot2
p <- pieChart()
p <- p + labs(title=paste("Score d'adhésion: ",adhesionScore(thisDF),"%",sep=""))
print(p)

########

#save adhesion for later use
NoAdhesionScore = 100 - adhesionScore(thisDF)
MesureCodeHere = "QDep8..Mettre.en.place.un.outil.de.gestion.et.d.organisation.collective.des.covoiturages.entre.IMT.Ales.et.Université.de.Montpellier..plusieurs.laboratoires.concernés."
CategorieFRHere = "Déplacements (hors missions)"
MesureFRHere = "Mettre en place un outil de gestion et d'organisation collective des covoiturages entre IMT Ales et Université de Montpellier (plusieurs laboratoires concernés)"
AdhesionMesuresHere = c(MesureCodeHere, CategorieFRHere, MesureFRHere, NoAdhesionScore<=0, NoAdhesionScore<=10, NoAdhesionScore<=20, NoAdhesionScore<=30, NoAdhesionScore<=40, NoAdhesionScore<=50, NoAdhesionScore<=60, NoAdhesionScore<=70, NoAdhesionScore<=80, NoAdhesionScore<=90, NoAdhesionScore<=100)
# Convert AdhesionMesuresHere to a data frame with the same column names as DFadhesionMesures
AdhesionMesuresHere_df <- data.frame(t(AdhesionMesuresHere), stringsAsFactors = FALSE)
colnames(AdhesionMesuresHere_df) <- colnames(DFadhesionMesures)
# Add AdhesionMesuresHere_df as a new row in DFadhesionMesures
DFadhesionMesures <- rbind(DFadhesionMesures, AdhesionMesuresHere_df)
```
  
## Commentaires

### Commentaires partie informatique / numérique
[2] "1pc partagé pour plusieurs personnes quand cela est possible, mutualisation ou acces a distance (VPN) a partir de l'ordi perso pour ne pas demultiplier les supports"  
[3] "Je ne sais pas si cela sera mentionné plus loin, mais peut être faire un listing des sociétés qui vendent du matériel reconditionné lors d'achat de nouveau ordinateurs ?"  
[4] "Oui si nécessaire pour sensibiliser à la pollution numérique car je vois peu de chose possible à faire une fois que l'ordinateur est fabriqué. Puis le labo achète rarement des ordi vraiment de trop, c'est un achat rare.\n(Si certaines de mes affirmations sont fausses, un support à la pollution numérique peut être nécessaire)"  
[5] "Vrai également pour les écrans ou autres matériels informatiques fonctionnels"  
  
### Commentaires partie missions
[2] "Il ne faut pas entraver l'excellence de la production scientifique"  
[3] "je crains quand même une injustice si seule une personne peut se déplacer à un congrès qui profiterait significativement à plusieurs\nLa limite par personne semble intéressante si elle ne concerne que ce que le labo permet et laisse le choix au professionnel de partir à ses frais (non encouragé)\nUne conférence reste plus intéressante en y assistant directement ou en visio"  
[4] "VISIO\n1 OU 2 representant max\nlimiter les longs courriers, covoiturer/train++"  
[5] "Voir mes commentaires dans la version test sur ce point et l'incompatibilité d'une mesure comme celle ci avec les projets internationaux" (BB)  
  
### Commentaires partie repas / évènements
[2] "SENSIBILISER AU VEGETARIEN/VEGETALIEN\nchacun pourrait venir avec sa gamelle et se servir dans des saladiers (moins de conditionnement)\nfavoriser bio/local++"  
[3] "Ambiguité entre la formulation de la question / présentation du tableau. \nDiminuer le café  : \"oui\"  \nDiminuer le thé: \"oui\"  \nDiminuer l'alcool : \"oui\"  \nDiminuer le chocolat : \"oui\""  
[4] "Tout ce qui concerne les repas doit être abordé au niveau des institutions qui passent par les marchés. Les prestataires retenus ont leurs propres politiques sur les points rapportés ci-dessous.\nQuelques dérogations possibles lors de repas organisés par le laboratoire."  
  
### Commentaires partie vie du labo
[2] "Ce serait une bonne idée de mettre à disposition des vélos que l'on pourrait utiliser pour ce déplacer sur le campus Triolet"  
[3] "feedback= excellente idee"  
[4] "Je suis totalement pour la re-végétalisation du patio ainsi que le jardin partagé cependant je me pose des questions sur l'entretien de ceux ci. Il faudrait rajouter une personne dédiée à cela ? Du coup un cout additionnel ? Ou l'ajouter à la liste des tache d'une personne déjà en contrat au labo ?"  
[5] "La Vie du Labo côté gestion des déchets notamment dépend en grande partie des institutions et composantes (CERIS et UFR) qui doivent tout repenser avec les collectivités locales (ramassage et tri des déchêts)."  
[6] "Le retour d'information sur les actions en cours et leur effet est absolument fondamental."  
[7] "Végétaliser un labo occupé par des CSP+ (ou enfants de 2 CSP+) : \"l'écologie sans lutte des classes, c'est du jardinage\""  
  
### Commentaires partie recherche scientifique
[2] "Ajouter des sections importantes dans l'IRB évaluées par des personnes considérées comme expertes ?"  
[3] "Avoir une personne référente, qui assure l'information et de l'aide des chercheurs, dans le but de diminuer le cout de leur recherche."  
[4] "Je suis pour encourager à réduire l'impact des technologies, mais contre imposer le plafonnage de la technologie sur certains projets, ok pour la demande de justification des techno et freq d'échant si c'est assez laxiste, ça engagera quand même chaque créateur de projets"  
[5] "Le ratio bénéfice/coût environnemental de chaque nouveau projet de recherche de l'unité doit être intégré dans une rubrique obligatoire des CER, IRB ou CPP actuels."  
  
### Commentaires partie bâtiments / achat
[2] "-4 degrés par rapport à la température extérieure, minimum 26\n\nComme à Alès le batiment Euromov doit: fermer à 20h et les weekends et en interdire l'accès sur ces plages sauf exception (expérimentations), le chauffage doit être coupé.\n\nLe bâtiment à Alès et neuf, et à chauffage/refroidissements passifs (aux normes écologiques), et beaucoup mieux isolé que le bat EuroMov. je ne sais pas d'où émanent les deux recommendations, déconnectées de la réalité."  
[3] "Le site d'Ales est récent, et répond aux dernières normes  : autant gagner du temps et de l'énergie en ne faisant pas un bilan énergétique"  
[4] "Nous sommes déjà dans un bâtiment éco-respectueux, je ne comprends pas la question ?..."  
[5] "Pour besoin matériel, à voir avec l'université, grosses contraintes et pas sûr que ce soit possible (ou très gros gap de temps)."  
  
### Commentaires partie déplacements (hors missions)
[2] "Achat de vélos est une très bonne idée + borne de recharge électrique"  
[3] "La métropole de Montpellier subventionne l'utilisation de l'application Klaxit."  
[4] "Le trajet EuroMov -> CHU se fait à pied et en transports en commun également, et marcher fait du bien\nCertaines mesures comme la factorisation des covoiturages difficiles si non négociées dans la convention"  
[5] "Pour la mise en place d'un atelier de réparation de vélo, d'une borne électrique et de vélos de prêts, cela serait génial, mais peut-être trop coûteux pour le labo par rapport au bénéfice et aux possibilités alternatives (prendre son propre vélo, charger sa voiture électrique ailleurs si on en a une, réparer son vélo ailleurs)"  
[6] "Très pessimiste sur la gestion collective de la mise à disposition de vélos au bout de 3 semaine\nRendre le parking payant très/trop contraignant et peu d'effet (parking palais des sports juste en dessous)\nBorne (pourquoi pas 2 ou 3) pour voitures électriques une bonne idée, investissement lourd au début mais signe clair auprès de tous, et pratique pour les personnels. Quid de l'utilisation? Les usagers paient leur recharge à qui? Le fruit des recharges remboursent le prêt pour mettre les bornes?"  
  
### Commentaires à prendre en compte:
[5] “Voir mes commentaires dans la version test sur ce point et l’incompatibilité d’une mesure comme celle ci avec les projets internationaux” (BB)  
Commentaires de la version test: "Remplacer "interdir" par 's'astreindre" ou "éviter". Les ferry semblent avoir un bilan carbone plus élevé que l'avion (par passager). Correct? La limitation des vols "par projet" me semble le plus réaliste, mais est en même temps sa planification est impossible. Il ne m'est pas possible d'estimer a priori le nombre de meetings d'un projet EU 3 ou 4 ans en amont. Certains de ces meetings sont prévisibles, d'autres non: réunions de crise nécessitant une rencontre en urgence des leaders, réunion technique "2-3 jours dans le labo" pour régler un pb urgent bloquant l'avancée du projet, campagne d'acquisition bloquée sur 2-3 semaines de tous les sous-projet sur une plateforme de capture unique banalisée pour l'occasion sur un site, demande de la commission de participer à une réunion CE au sein d'un congrès ou d'un showroom. D'autre part , j'ai plusieurs missions en dehors des projets (missions prospectives précisément en amont de la rédaction d'un projet, réunions de groupe d'experts CE, etc.). Cela vaut pour moi (BB) et les personnes impliquées dans mes projets (PhD, post-doc par exemple dont la présence dans certains meetings EU est exigé par le project officer car ils sont payés par la CE. JE peux multiplier les exemples. Certaines de ces missions peuvent être effectuées en train, pas toutes."  
Réponse: ?? Je croyais ce débat clos depuis la dernière réunion de validation et les modifications effectuées (voir mail du 7 mars 2023 à 12:19). A COMPLETER  
  
[4] “Tout ce qui concerne les repas doit être abordé au niveau des institutions qui passent par les marchés. Les prestataires retenus ont leurs propres politiques sur les points rapportés ci-dessous.dérogations possibles lors de repas organisés par le laboratoire.”  
Réponse: ?? A VOIR AVEC LA DIRECTION (on n'avait pas eu ce retour pdt la phase de validation du questionnaire)  
  
[2] “-4 degrés par rapport à la température extérieure, minimum 26à Alès le batiment Euromov doit: fermer à 20h et les weekends et en interdire l’accès sur ces plages sauf exception (expérimentations), le chauffage doit être coupé.bâtiment à Alès et neuf, et à chauffage/refroidissements passifs (aux normes écologiques), et beaucoup mieux isolé que le bat EuroMov. je ne sais pas d’où émanent les deux recommendations, déconnectées de la réalité.”  
[3] “Le site d’Ales est récent, et répond aux dernières normes : autant gagner du temps et de l’énergie en ne faisant pas un bilan énergétique”  
[4] “Nous sommes déjà dans un bâtiment éco-respectueux, je ne comprends pas la question ?…”  
Réponse: N'étant pas sur le site d'Alès, nous n'avions pas cette information, et aucun retour en ce sens ne nous a été fait durant la phase de validation du test. Nous retirons ces 2 propositions.  

#### Suppression des deux propositions isolation + chauffage sur le site d'Alès
```{r}
nbRowToDel = which(DFadhesionMesures$MesureCode=="QBat5..Pour.le.site.d.Alès..si.besoin..selon.bilan.énergétique...étudier.la.question.de.l.isolation.du.bâtiment" | DFadhesionMesures$MesureCode=="QBat6..Pour.le.site.d.Alès..si.besoin..selon.bilan.énergétique...étudier.la.question.de.changer.de.système.de.chauffage.pour.un.système.plus.écologique")
DFadhesionMesures <- DFadhesionMesures[-nbRowToDel, ]
```

  
# 3. Création des scénarios

#### Façon de créer les scénarios:
Pour chaque question, et pour chaque scénario (x%), la mesure est retenu si au moins x% des participants étaient d'accord avec cette mesure (en utilisant le score d'adhésion, pas l'ensemble des "Oui" + "Oui, si nécessaire"), ou avec une mesure plus ambitieuse.  

#### A penser:
- Lorsqu'on présentera les scénarios pour le vote, mettre un grand tableau avec dans chaque case toutes les mesures de ce scénario. Dans le même ordre qu'utilisé pour le questionaire (et garder les catégories).  
- Penser à rajouter une option sur la deuxième page (une fois qu'on a choisi le scénario avec lequel on est prêt à aller) pour exclure certaines mesures en particulier que l'on ne veut pas (max 5 ?) en mode joker. Si certaines mesures ont été exclues par trop de monde, on les enlevera. Par contre si on est le seul à avoir exclue cette mesure, elle sera quand même adopée ! Bien sûr, préciser ça dès la première page pour qu'il n'y ait pas de surprise. Cette mesure permet d'éviter qu'une personne ne choisisse pas un scénario un peu ambitieux à cause de seulement 1 ou 2 mesures contre lesquelles elle n'est pas d'accord.    

## Tableau récaptilatif
```{r, warning=FALSE}
# Create the table
kable(DFadhesionMesures[,2:ncol(DFadhesionMesures)], format = "html", table.attr = 'class="table table-striped table-hover"') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  scroll_box(width = "100%", height = "300px")
```


## Les scénarios

### Le scénario 0% ambitieux
Ne rien changer.  
  

### Le scénario 10% ambitieux
```{r, warning=FALSE}
ResultsThisPrct = DFadhesionMesures$`10% ambitieux`
NbThisPrct = "10% ambitieux"

#select the right data
ToKeep = which(ResultsThisPrct!=F & ResultsThisPrct!="Non" & ResultsThisPrct!=Inf & ResultsThisPrct!=19 & ResultsThisPrct!=26)
DFadhesionMesuresThisPrct = DFadhesionMesures[ToKeep,c("CategorieFR","MesureFR",NbThisPrct)]

# Create the table
kable(DFadhesionMesuresThisPrct, format = "html", table.attr = 'class="table table-striped table-hover"') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  scroll_box(width = "100%", height = "300px")
```
  
### Le scénario 20% ambitieux
```{r, warning=FALSE}
ResultsThisPrct = DFadhesionMesures$`20% ambitieux`
NbThisPrct = "20% ambitieux"

#select the right data
ToKeep = which(ResultsThisPrct!=F & ResultsThisPrct!="Non" & ResultsThisPrct!=Inf & ResultsThisPrct!=19 & ResultsThisPrct!=26)
DFadhesionMesuresThisPrct = DFadhesionMesures[ToKeep,c("CategorieFR","MesureFR",NbThisPrct)]

# Create the table
kable(DFadhesionMesuresThisPrct, format = "html", table.attr = 'class="table table-striped table-hover"') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  scroll_box(width = "100%", height = "300px")
```
  
### Le scénario 30% ambitieux
```{r, warning=FALSE}
ResultsThisPrct = DFadhesionMesures$`30% ambitieux`
NbThisPrct = "30% ambitieux"

#select the right data
ToKeep = which(ResultsThisPrct!=F & ResultsThisPrct!="Non" & ResultsThisPrct!=Inf & ResultsThisPrct!=19 & ResultsThisPrct!=26)
DFadhesionMesuresThisPrct = DFadhesionMesures[ToKeep,c("CategorieFR","MesureFR",NbThisPrct)]

# Create the table
kable(DFadhesionMesuresThisPrct, format = "html", table.attr = 'class="table table-striped table-hover"') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  scroll_box(width = "100%", height = "300px")
```
  
### Le scénario 40% ambitieux
```{r, warning=FALSE}
ResultsThisPrct = DFadhesionMesures$`40% ambitieux`
NbThisPrct = "40% ambitieux"

#select the right data
ToKeep = which(ResultsThisPrct!=F & ResultsThisPrct!="Non" & ResultsThisPrct!=Inf & ResultsThisPrct!=19 & ResultsThisPrct!=26)
DFadhesionMesuresThisPrct = DFadhesionMesures[ToKeep,c("CategorieFR","MesureFR",NbThisPrct)]

# Create the table
kable(DFadhesionMesuresThisPrct, format = "html", table.attr = 'class="table table-striped table-hover"') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  scroll_box(width = "100%", height = "300px")
```
  
### Le scénario 50% ambitieux
```{r, warning=FALSE}
ResultsThisPrct = DFadhesionMesures$`50% ambitieux`
NbThisPrct = "50% ambitieux"

#select the right data
ToKeep = which(ResultsThisPrct!=F & ResultsThisPrct!="Non" & ResultsThisPrct!=Inf & ResultsThisPrct!=19 & ResultsThisPrct!=26)
DFadhesionMesuresThisPrct = DFadhesionMesures[ToKeep,c("CategorieFR","MesureFR",NbThisPrct)]

# Create the table
kable(DFadhesionMesuresThisPrct, format = "html", table.attr = 'class="table table-striped table-hover"') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  scroll_box(width = "100%", height = "300px")
```
  
### Le scénario 60% ambitieux
```{r, warning=FALSE}
ResultsThisPrct = DFadhesionMesures$`60% ambitieux`
NbThisPrct = "60% ambitieux"

#select the right data
ToKeep = which(ResultsThisPrct!=F & ResultsThisPrct!="Non" & ResultsThisPrct!=Inf & ResultsThisPrct!=19 & ResultsThisPrct!=26)
DFadhesionMesuresThisPrct = DFadhesionMesures[ToKeep,c("CategorieFR","MesureFR",NbThisPrct)]

# Create the table
kable(DFadhesionMesuresThisPrct, format = "html", table.attr = 'class="table table-striped table-hover"') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  scroll_box(width = "100%", height = "300px")
```
  
### Le scénario 70% ambitieux
```{r, warning=FALSE}
ResultsThisPrct = DFadhesionMesures$`70% ambitieux`
NbThisPrct = "70% ambitieux"

#select the right data
ToKeep = which(ResultsThisPrct!=F & ResultsThisPrct!="Non" & ResultsThisPrct!=Inf & ResultsThisPrct!=19 & ResultsThisPrct!=26)
DFadhesionMesuresThisPrct = DFadhesionMesures[ToKeep,c("CategorieFR","MesureFR",NbThisPrct)]

# Create the table
kable(DFadhesionMesuresThisPrct, format = "html", table.attr = 'class="table table-striped table-hover"') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  scroll_box(width = "100%", height = "300px")
```
  
### Le scénario 80% ambitieux
```{r, warning=FALSE}
ResultsThisPrct = DFadhesionMesures$`80% ambitieux`
NbThisPrct = "80% ambitieux"

#select the right data
ToKeep = which(ResultsThisPrct!=F & ResultsThisPrct!="Non" & ResultsThisPrct!=Inf & ResultsThisPrct!=19 & ResultsThisPrct!=26)
DFadhesionMesuresThisPrct = DFadhesionMesures[ToKeep,c("CategorieFR","MesureFR",NbThisPrct)]

# Create the table
kable(DFadhesionMesuresThisPrct, format = "html", table.attr = 'class="table table-striped table-hover"') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  scroll_box(width = "100%", height = "300px")
```
  
### Le scénario 90% ambitieux
```{r, warning=FALSE}
ResultsThisPrct = DFadhesionMesures$`90% ambitieux`
NbThisPrct = "90% ambitieux"

#select the right data
ToKeep = which(ResultsThisPrct!=F & ResultsThisPrct!="Non" & ResultsThisPrct!=Inf & ResultsThisPrct!=19 & ResultsThisPrct!=26)
DFadhesionMesuresThisPrct = DFadhesionMesures[ToKeep,c("CategorieFR","MesureFR",NbThisPrct)]

# Create the table
kable(DFadhesionMesuresThisPrct, format = "html", table.attr = 'class="table table-striped table-hover"') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  scroll_box(width = "100%", height = "300px")
```
  
### Le scénario 100% ambitieux
```{r, warning=FALSE}
ResultsThisPrct = DFadhesionMesures$`100% ambitieux`
NbThisPrct = "100% ambitieux"

#select the right data
ToKeep = which(ResultsThisPrct!=F & ResultsThisPrct!="Non" & ResultsThisPrct!=Inf & ResultsThisPrct!=19 & ResultsThisPrct!=26)
DFadhesionMesuresThisPrct = DFadhesionMesures[ToKeep,c("CategorieFR","MesureFR",NbThisPrct)]

# Create the table
kable(DFadhesionMesuresThisPrct, format = "html", table.attr = 'class="table table-striped table-hover"') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  scroll_box(width = "100%", height = "300px")
```
  
  

  
## Commentaires généraux

### Commentaires généraux concernant cette enquête
[2] "Beaucoup d'actions proposées sont hors champ de compétences du labo => pas très efficace, et créateur de frustration"  
[3] "BRAVO pour ttes ces propositions!"  
[4] "Elle est très bien. Certains items me paraissent peu réalistes étant donné les procédures comptables des établissements et marchés publics, mais la plupart sont possibles au cours du temps, peut-être pas tout tout de suite. Problème majeur avec les missions internationales impossibles à faire en train dans des délais alternatifs raisonnables (10-15 heures), principe \"dur\" incompatible avec les règles des projets et des réunions prévues en urgence ou obligatoires (EU).  A faire progressivement mais pente trop raide très problématique sans mettre en danger la dynamique scientifique de l'unité."  
[5] "Il est parfois difficile de se prononcer par manque de compétences par rapport aux questionnements mentionnés. Toutefois, j'ai répondu plusieurs fois \"Oui, si nécessaire\" au lieu de \"Ne se prononce pas\", car la démarche semble intéressante."  
[6] "La plupart des items sur lesquels je ne me prononce pas concernent des aspects du fonctionnement de l'unité qui ne sont actuellement pas sous notre contrôle mais dépendent des textes règlementaires régissant les activités de l'université et/ou de la politique de l'UM en la matière; il ne me semble donc pas opportun de consacrer de l'énergie dessus à l'heure actuelle."  
[7] "Merci pour les efforts fournis pour ce travail"  
[8] "Merci pour les informations qui m'ont appris des choses !\nUne présentation de ce genre serait intéressante, surtout vu l'originalité de l'orientation recherche de l'écologie"  
[9] "Mettre des champs commentaire pour chaque question"  
[10] "Super initiative, comprenant de très bonnes idées !"  
  
### Commentaires généraux sur la démarche de réduction d'empreinte carbone du laboratoire EuroMov DHM
[2] "Elle me semble essentielle pour l'avenir, de même que la réflexion sur la pérennité du CCV."  
[3] "Excellent initiative, bravo au CCV et merci Pauline, Louis, Germain, pour votre temps sur ce dossier."  

### Tout autre commentaire
[2] "Félicitation pour ce travail titanesque, bravo"  
[3] "MERCI !!!! BRAVO !!!"  